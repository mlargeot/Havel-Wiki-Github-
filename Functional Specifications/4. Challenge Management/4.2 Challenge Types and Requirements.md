# Challenge Types and Requirements

## Summary

- [1. Purpose of the Document](#1.-purpose-of-the-document)
- [2. Supported Challenge Types](#2.-supported-challenge-types)
- [3. Challenge Type Overview](#3.-challenge-type-overview)
- [4. Functional Requirements by Challenge Type](#4.-functional-requirements-by-challenge-type)
	- [4.1 Q&A Challenges](#-4.1-q&a-challenges)
	- [4.2 Container Challenges](#4.2-container-challenges)
	- [4.3 VM Challenges](#4.3-vm-challenges)
	- [4.4 Network Challenges (Multi-node)](#4.4-network-challenges-(multi-node))
- [5. Common Functional Behaviors (All Types)](#5.-common-functional-behaviors-(all-types))
	- [5.1 Unified Challenge Lifecycle](#5.1-unified-challenge-lifecycle)
	- [5.2 Reset Behavior](#5.2-reset-behavior)
	- [5.3 Solve Tracking](#5.3-solve-tracking)
- [6. Metadata Requirements Summary Table](#6.-metadata-requirements-summary-table)
- [7. Success Criteria](#7.-success-criteria)

## 1. Purpose of the Document

This document defines the **functional types of challenges** supported by the Havel platform and the **specific requirements and rules** associated with each type.

Each challenge type determines:

- Required metadata
- Deployment behavior
- Participant interaction
- Validation rules
- Restrictions and expected behavior

All challenge types **exist only within an event** and follow the event’s lifecycle.

## 2. Supported Challenge Types

Havel currently supports the following challenge types:

1. **Q&A Challenge**
2. **Container Challenge**
3. **Virtual Machine (VM) Challenge**
4. **Network Challenge (Multi-node)**

## 3. Challenge Type Overview

|Type|Description|Deployment|Participant Interaction|
|---|---|---|---|
|**Q&A**|Answer a question or find a flag based on description and/or files.|None|Submit answer directly.|
|**Container**|Single runtime service deployed via container per team/participant.|Single container|Access exposed service.|
|**VM**|Full operating system environment for advanced tasks.|Single VM|Connect via provided credentials.|
|**Network**|Multi-node challenge composed of 2–5 interconnected VMs/containers.|Multi-node|Access entrypoint and pivot inside.|

## 4. Functional Requirements by Challenge Type

### 4.1 Q&A Challenges

#### Description

A Q&A challenge requires the participant to submit a correct **flag** or **answer**.  
It can optionally include **attached files** (e.g., code, captures, binaries) that participants must analyze to solve it.  
This challenge type **has no deployed environment**.

#### Required Metadata

- Title
- Description
- Expected Answer
	- Text
	- Single choice
	- Multiple choice
- Scoring configuration
- Visibility settings

### Validation Requirements

- Description and answer must not be empty.

### Participant View

- Description
- **List of downloadable files (if any)**
- Answer submission field
- Validation feedback

### Restrictions

- No runtime environment
- Not eligible for resource monitoring

### 4.2 Container Challenges

#### Description

A container challenge deploys an isolated container instance per team or participant.  
Used for:

- Web challenges
- Simple services
- Exploitation tasks
- Challenges requiring a running service

#### Required Metadata

- Description
- Expected Answer(s)
- Scoring configuration
- Visibility settings
- Container image reference or build instructions
- Exposed ports / service type
- Resource constraints (max: CPU/RAM quotas per event policy)
- Healthcheck or expected service availability

#### Validation Requirements

- The container must start successfully before activation. 
- Ports must not conflict within the event.
- Access path must be defined (IP/domain/port).

#### Participant View

- Description
- Button to start the instance
	- Endpoint shown after deployment
- Reset option (admin-controlled)
- Answer submission field
- Validation feedback

#### Restrictions

- Only one container per challenge
- Stateless environment strongly recommended
- Limited resource usage (event-scoped policy)

### 4.3 VM Challenges

#### Description

A VM challenge deploys a full virtual machine for the participant or team.  
Used for:

- Full OS isolation
- Kernel-level exploitation
- Realistic environment simulation

#### Required Metadata

- Title
- Description
- VM ISO/OVA
- Instance size
- Expected Answer(s)
- Scoring configuration
- Visibility settings

#### Validation Requirements

- VM must boot correctly during validation

#### Participant View

- Description
- Button to start the instance
	- Connection information once started (IP (+credentials))
- Reset option (admin-controlled) 
- Answer submission field
- Validation feedback

#### Restrictions

- Higher resource consumption
- Slower deployment than containers
- Must remain isolated

### 4.4 Network Challenges (Multi-node)

#### Description

A Network Challenge is a multi-node challenge involving **two or more interconnected machines** (containers and/or VMs).  
It simulates small infrastructures or realistic multi-stage attack scenarios.
Used for:

- Pivoting
- Internal enumeration
- Multi-step exploitation
- Realistic cyber range setups

#### Required Metadata

- Title
- Description
- Node list (min. 2 nodes, max. 5 for v0.8)
- Node types (Container/VM)
- Node size
- Network topology
- Entry point node(s)
- Internal-only nodes
- Expected Answer(s)
- Scoring configuration
- Visibility settings

#### Network topology

A visual editor inspired by **GNS3**: it allows users to drag and drop nodes (VMs or services), connect them, and design the network topology graphically. Once the topology is defined, it can be exported into manifests compatible with different providers (e.g., Docker Compose, Kubernetes, Proxmox). This approach enables quick modeling of complex infrastructures while ensuring portability and reproducibility.

> For network topology, we can also consider creating a custom, well-documented method using configuration files to build the topology without relying on the graphical interface, which may be more convenient for users who are comfortable with this approach.

#### Validation Requirements

- All nodes must start and connect correctly
- Entry point must be accessible
- No unintended exposure to other teams or events

#### Participant View


- Description
- Button to start the instance
	- Entry connection info only
- Reset option (admin-controlled) 
- Answer submission field
- Validation feedback

#### Restrictions

- Reset resets **all nodes**
- Maximum 5 nodes (v0.8 limit)
- One-level nested network
- Strict resource limits enforced by the event

## 5. Common Functional Behaviors (All Types)

### 5.1 Unified Challenge Lifecycle

- Draft
- Visible / Invisible
- Archived / Deleted

### 5.2 Reset Behavior

- Q&A → no reset
- Container → redeploy container
- VM → revert or restart
- Network → reset all nodes

### 5.3 Solve Tracking

- First blood
- Solve count
- Submission history
- Score updates (dynamic scoring if enabled)

## 6. Metadata Requirements Summary Table

| Type      | Requires Deployment | Can Attach Files | Complexity  | Use Cases                    |
| --------- | ------------------- | ---------------- | ----------- | ---------------------------- |
| Q&A       | No                  | **Yes**          | Low         | Code analysis, crypto, OSINT |
| Container | Yes                 | Yes              | Medium      | Web, pwn, misc services      |
| VM        | Yes                 | Yes              | Medium–High | Kernel, forensics, malware   |
| Network   | Yes                 | Yes              | High        | Pivoting, multi-stage infra  |

## 7. Success Criteria

|Criterion|Expected Result|
|---|---|
|Metadata complete per challenge type|Mandatory fields enforced|
|Consistent participant experience|Clear access to each challenge|
|Isolation guaranteed|No cross-team or cross-event leakage|
|Network challenges functional|Nodes communicate as expected|
|File attachments functional|Files downloadable for Q&A and others|
