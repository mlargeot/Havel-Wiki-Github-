# Edit

## Editable common fields

- Name
- Level (difficulty)
- Image (preview + reference)
- Points
- Category
- First-blood (enable/disable + reward)
- Unlock condition (e.g., prerequisite challenge, time lock)
- Flags (accepted formats / variants)
- Visibility (Public / Private / Hidden)

## Type-specific fields

- **Q&A**
    - Question / Prompt text.
    - Accepted answers.
    - Response type.

- **Container**
    - Docker image (image name + tag) **or** Dockerfile (raw or path).
    - Runtime options (ports, env vars, volumes, resource limits).

- **Infrastructure / Multi-VM**
    - Machines list (VM templates/images, roles).    
    - Network topology (links, subnets, NAT, VLANs)    
    - Security groups / firewall rules.
    - Provider target (Docker Compose, Kubernetes, Proxmox, etc.).

- **Simple VM**
    - VM image or configuration (ISO, OVA).
    - Boot options and exposed services (if any).
    - Resource allocation (CPU, RAM, disk).

## Audit and change management

- Every edit is recorded in an **audit log** that stores diffs, author, and timestamp.
- Editors can view a change history and **roll back** the challenge to any previous version within **10 days**.
- Changes are shown in a human-readable diff and can be annotated with a reason for the change.

## Acceptance / Deployment rules

- All edits that could affect running instances (e.g., replacing an image, changing network rules, altering flags) **must be queued** for deployment rather than applied immediately.
- The system will schedule the changes to be applied **only when the instances are next restarted** or during a designated maintenance window, ensuring running instances are not disrupted.
- Non-disruptive edits (e.g., description, points, visibility) can still be applied instantly without affecting running instances.

## UX / Best practices (optional)

- Provide a **preview mode** to simulate how changes will affect running instances.
- Provide pictograms when options are activated such as **first-blood**, deactivate otherwise.